/*  
 * 문제 요약
 *     - 모든 차량이 고속도로를 이용하면서 적어도 한 번 단속 카메라를 만나도록 카메라를 최소 개수로 설치해야 함
 *
 * 입력  
 *     - int[][] routes: 각 차량의 고속도로 진입 지점과 진출 지점 정보 (최대 10,000개)
 *
 * 출력  
 *     - 최소 카메라 설치 수 (int)
 *
 * 핵심 포인트  
 *     - 차량의 경로가 겹치는 구간에 하나의 카메라만 설치해도 여러 차량을 단속할 수 있음
 *     - 종료 지점을 기준으로 정렬한 뒤, 가장 먼저 빠져나가는 차량의 끝 지점에 카메라를 설치
 *     - 이후 차량이 기존 카메라 범위를 벗어나면, 해당 차량의 종료 지점에 새 카메라 설치
 */

class Solution {
	
	public int solution(int[][] routes) {
		// 차량들의 진출 지점을 기준으로 오름차순 정렬
		Arrays.sort(routes, Comparator.comparing((int[] i) -> i[1]));
		
		int count = 0;             // 설치한 카메라 수
		int end = -30001;          // 마지막으로 설치된 카메라 위치 (가장 최근 카메라의 위치)

		for (int[] route : routes) {
			// 현재 차량의 진입 지점이 이전 카메라 범위 밖에 있으면, 새 카메라 설치
			if (route[0] > end) {
				end = route[1];    // 현재 차량의 진출 지점에 카메라 설치
				count++;           // 카메라 수 증가
			}
		}
		
		return count;              // 최소 카메라 수 반환
	}
	
}
